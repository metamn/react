{"componentChunkName":"component---src-templates-blog-post-js","path":"/updating-a-wordpress-theme-to-react/","webpackCompilationHash":"e24f080e93f662bc24cd","result":{"data":{"site":{"siteMetadata":{"title":":heart: React","author":"Metamn"}},"markdownRemark":{"id":"1408503c-7bba-5897-8adb-86cdfb0ee836","excerpt":"Get a SPA on a headless WordPress!","html":"<p>Get a SPA on a headless WordPress!</p>\n<!--more-->\n<h2>The problem</h2>\n<p>What if you have to update an old WordPress theme to React? And your only option for deployment is to upload a new theme in the WordPress dashboard?</p>\n<p>No static site generation with <a href=\"https://www.gatsbyjs.org/\">Gatsby</a> and no server side rendering with <a href=\"https://nextjs.org/\">Next</a>.</p>\n<p>What left is <a href=\"https://create-react-app.dev/\">create-react-app</a> which builds a Single Page Application. More exactly <a href=\"https://github.com/devloco/create-react-wptheme\">create-react-wptheme</a> which adapts <code class=\"language-text\">create-react-app</code> to WordPress.</p>\n<h2>create-react-wptheme</h2>\n<p><code class=\"language-text\">create-react-wptheme</code> replaces the Webpack dev server coming with <code class=\"language-text\">create-react-app</code> with a WordPress dev server. That makes developing React themes as easy as developing any other React applications.</p>\n<p>Deploying the theme is also made easy: you just build it and upload it to WordPress. That’s all.</p>\n<p>The overall experience is very smooth. So smooth there is nothing to learn about.\nBig kudos to <a href=\"https://github.com/devloco\">@devloco</a>, the unknown code artist.</p>\n<h2>WPGraphQL</h2>\n<p><a href=\"https://www.wpgraphql.com/\">WPGraphQL</a> and the accompanying <a href=\"https://github.com/wp-graphql/wp-graphiql\">WPGraphiQL</a> IDE plugins are in the same way fantastic tools.</p>\n<p>They replace <a href=\"https://developer.wordpress.org/themes/basics/template-hierarchy/\">WordPress template files and tags</a> and the most part of the <a href=\"https://developer.wordpress.org/reference/\">WordPress API</a>. You won’t need none of these old artifacts.</p>\n<p>You won’t write PHP code anymore and all theme files will be generated for you except <code class=\"language-text\">functions.php</code> in case you’ll want to extend <code class=\"language-text\">WPGraphQL</code>.</p>\n<h3>Documentation</h3>\n<p>Creating themes with GraphQL is documented in the <code class=\"language-text\">WPGraphiQL</code> plugin. Which is also serving as a live testbed for all database operations.</p>\n<p>It feels refreshing to read the docs next to the live code editor. It’s all in one screen — without the need to fire up webpages and search for results.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/react/static/b3615b3a2b2ebd28dc0cc89658c80884/99d00/wp-graphiql-screenshot.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.85667752442997%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAABhklEQVQ4y5WSi3KrMAxE8/9f2U5nkhJDMBjjd7ZaJXDb9PalGY2NMMerRYdaK5bFI+eMdV3x9PSM7nSCee1gujOOpyOGYZC8aPayn+cZ/M7aSWvTNOF6vSLGiIO1Ft6vaK0pNAjUDg7zMCG6BcfjCU4u9GvAIue4Oqn3vYCdQwhBc5U6vz8Y08uNDoyUkhatTxiXqDVz7hW4hrinl0tZEw2qlElBXA9ObiG9lKI3EboEUZqKAs/G7ECq87IGUZrcgJImPcN2GQocR4vLZdT+b8CI2q44W4+YK9jBrvAOjLLW1aFmJ7CGLRR4M/lfyzGGmzIB5to+Au8qk9jyPj4oJGxRP5oCqZJhxcNUmpj/H2DKO2jLHThNM6z89kfg6IL+nJ+AnxSy5SggBn1M932Rlzz2ZyBnaityZDi0TmwguMkBPnP+fg2kf9xswK57xfPLC4wMrp1HHV7/DfCTh0Zaoo8MAnPJ2mrloLai8/mVwsdQIF9yo76VG+A+DHvtEUjP36vbkmffACuT9flMpLYlAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"wp-graphiql-screenshot.png\"\n        title=\"wp-graphiql-screenshot.png\"\n        src=\"/react/static/b3615b3a2b2ebd28dc0cc89658c80884/5cc77/wp-graphiql-screenshot.png\"\n        srcset=\"/react/static/b3615b3a2b2ebd28dc0cc89658c80884/72cd8/wp-graphiql-screenshot.png 192w,\n/react/static/b3615b3a2b2ebd28dc0cc89658c80884/45483/wp-graphiql-screenshot.png 384w,\n/react/static/b3615b3a2b2ebd28dc0cc89658c80884/5cc77/wp-graphiql-screenshot.png 768w,\n/react/static/b3615b3a2b2ebd28dc0cc89658c80884/04090/wp-graphiql-screenshot.png 1152w,\n/react/static/b3615b3a2b2ebd28dc0cc89658c80884/99d00/wp-graphiql-screenshot.png 1228w\"\n        sizes=\"(max-width: 768px) 100vw, 768px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>I’ve found the GraphQL API documentation more useful than the original WordPress documentation. Better navigation, less verbose but straight to the point for a quick lookup and even for a deep dive.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 650px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/react/static/2580110f0718610e9d57084cf0b59ede/dbb61/wp-graphiql-apidocs.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 126%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAYAAAAxFw7TAAAACXBIWXMAAAsSAAALEgHS3X78AAACl0lEQVQ4y6WV23LaMBCG/f4P0ZlOb9pJT0/Q256m7bTJhBAgIQQwxmfrbFn+uzY0EJOYptXM55Vs+feutCt7r0YpXl7EOBkleHeV4e0kw5tJekczPhnFeP5zgRenS7ymed05De+JZ2chvI9XK/zyMwwijkHIcBELjDONUapwmUhckh2SPadng5Df3duneX5dGHwYr+EJLlCkCUSRI08aW8CVBqgsNq3GYevcqzfj4c0SXiE18rxAmuUtGfWjOEHBeDvPuRqu7sdWrhU8m/rwpDawjUf/0ZqPNu18ttp6yCSUsRSlhKs0eVY/icptPJyGObxMGKwzgSgXUCKCkSmFUMFaS1922yXqF3TbNbxNGDxtK/KsRGk0ytLCmJLQhEFFwn8Ee0PeF4yZxiKWKDiDlUsKWXU2sD7q5T1BSR5praCUJiSkJFQzVq2X+4IPtQPBjBsECQcTqs2vQw/wNEHGLWI/Jm/YdoLrDa8rfhiycEinHCq/RlWyR2ui3lvH7treExRcIRoFYMEZRPQNOp8Ql1DZECWf00atUIolWZ9etsc9FLQRigdE2CILH5KtiRW0YpRKuzRq+vu5+aCgto4mNlQb7KZv2rHdChpoorFHBROu4ScCLGNUJQmMWKAyaW8i94asyQtNYXfT4m93+jBtlEVTz4IplLRmVlMt62y3u0fK7lBQGjptBASnCuEFrOFwVh5N6Md3mUqP0RGmyDaHQd0J+Vg7LD1WIvBTCMn3KsX9e6UIXiGfp23yOlftquIh6FI79+gBO4tJ0CiHeCQgowuUbEg/pwKwCWpLqVPl1M92wPWGv6CD2ru5nWE6/IHZ5Dtm4y/EZ+IrbkafMJ+ewl9MsZxftaxWSwRBSKzvsSLicI0B/VN+A4s8mlVeD0V/AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"wp-graphiql-apidocs.png\"\n        title=\"wp-graphiql-apidocs.png\"\n        src=\"/react/static/2580110f0718610e9d57084cf0b59ede/dbb61/wp-graphiql-apidocs.png\"\n        srcset=\"/react/static/2580110f0718610e9d57084cf0b59ede/72cd8/wp-graphiql-apidocs.png 192w,\n/react/static/2580110f0718610e9d57084cf0b59ede/45483/wp-graphiql-apidocs.png 384w,\n/react/static/2580110f0718610e9d57084cf0b59ede/dbb61/wp-graphiql-apidocs.png 650w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>vs.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/react/static/c513db3268b477911b0858629766ad15/8bf03/wp-api-screenshot.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 142.49110320284697%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAYAAABh2p9gAAAACXBIWXMAAAsSAAALEgHS3X78AAAD20lEQVRIx5VVa28UVRg+QIzR/0Dtaika6bZAaWgbgn4xgBdaSTX+BGPiFygl8ZvQLYkU/wAxBhOj/8MvRol+kraUtbS7293Zmdm5X3Zm9/F9z+xMZ5ctxEmeOe95b+c5t/eIqZl5fLjwGc6cv4Bz8+/h7OxFFM/N4eTEWYyOn0Lh5MTzeJvbxPbG2DsYOT6K0ZECxkgnps9M49IHlzAzPYP52XnMnZ8jzIL1xVNFnJ6cwlRxEpMTRcKkxPjYOE68dQLjhTdRePc0ji99jZEvrqMw8z7E0as38OriMl6/dguvXVvBK4s3ceTqMo4u3JQ4triCYwsrWZ8hPrlBWMaRj69DfPoNxJcPIL76AeLzbyE++ukRln79G0u/JFj8+S9cfvjnC3Hl4SOJy7L9A1ce/Jbgx98h7n13D7dvr+LOnRJhFWulu7i71o+10tqhKK2WsL5+H/fXvwfnEtXaPh5vbGBza4vaTSlvbG7hn8cbEqzb3n6Kp+UynlDLKJf/7fW3sfVkG5VKFU1Vg9JUITpxDEVRYFkWfN+H53k9uJn8fz7R7XZlona7jU6nIxHTIKnMiKJIgvXsNwyu60q7TOg4DmzbRhAECVNqWcfsHMeVzjxoyzBkcDpAHmEYysEFdwxybOk6Wq0WLNOS1FN2oAGzlhgwgfRL5bxODK5BTDanHWd9L+rINow7COIk0CW739PnP04smCpvSr1eR7VaxV6lgt3dPcKuRKVaQ6PRoF1UUaeW5X32rSX6NFbTtIQhrwlPVacpqxTEqNUbqJOjRrLeWwrTNJOlIVnVdOwrTQmd+qldMhykbfptqE4A1Q0wZFbZp7sh7DB6fsr8S8GLX2vZ2FFN7DQNWH6YObIt9eMNqpKf7viZPUVfQsnQC6BYLjRyjuKEYre366lP3OmiST4G+SYJcXhCN2yjYbo0JZ+SHByHPob0cTK/HR3OMDUwu52miT3NQhDFGYPBhHXDyTHsvpihanswaFOGMuz1W2T3wujlCWMK5CnbQdh3CwYZmi+bcurIO1dWDLmLh21Km64gLwkPnD8yQ9fQpqPS5CkTgzBbw25fQm418skfqyzh4EVPp91/YNNffgm6fTHorS5dPSo9uZIUtrnuJXJA9zy1cRuGicwxgayDkSxnLHMc24RhO2i06IhQvXNdD89UA7rlwKdauEdyi2S27esmdqnP+qZhQyG4ni/v8bOGBtW0qWZ6EBYV0Lp+UP41MvAg3DcdfgZ8mVAxHah0RsPAl8GcMMg9GZyMY8TBG5IogsDPHBPWbgaPK3fPLx+TgvtiUJF3TJ4AJwM/E8OS5GP+A1wfzL0Tu7hyAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"wp-api-screenshot.png\"\n        title=\"wp-api-screenshot.png\"\n        src=\"/react/static/c513db3268b477911b0858629766ad15/5cc77/wp-api-screenshot.png\"\n        srcset=\"/react/static/c513db3268b477911b0858629766ad15/72cd8/wp-api-screenshot.png 192w,\n/react/static/c513db3268b477911b0858629766ad15/45483/wp-api-screenshot.png 384w,\n/react/static/c513db3268b477911b0858629766ad15/5cc77/wp-api-screenshot.png 768w,\n/react/static/c513db3268b477911b0858629766ad15/04090/wp-api-screenshot.png 1152w,\n/react/static/c513db3268b477911b0858629766ad15/8bf03/wp-api-screenshot.png 1405w\"\n        sizes=\"(max-width: 768px) 100vw, 768px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3>Experience</h3>\n<p>Creating the first theme with GraphQL felt in the same way natural like creating themes the classic way.</p>\n<p>In fact it was a more delightful experience.</p>\n<p>It was fun to (re)implement the <code class=\"language-text\">get_categories()</code> / <code class=\"language-text\">get_category_link()</code> PHP functions in React and observe this app needs no more from the whole category API.</p>\n<p>That makes to feel how light the app is compared to the old approach when no one knew what goes on under the hood and how many functions are called down the stack to perform a simple operation.</p>\n<h3>Ecosystem</h3>\n<p>It’s amazing how fast WPGraphQL managed to become the <em>headless</em> part of WordPress.</p>\n<p>Integrations with <a href=\"https://www.wpgraphql.com/acf/\">Advanced Custom Fields</a>, <a href=\"https://docs.wpgraphql.com/extensions/wpgraphql-woocommerce\">WooCommerce</a> and <a href=\"https://docs.wpgraphql.com/extensions/wpgraphql-gutenberg\">Gutenberg</a> shows the community is taking care of migrating all interesting parts of the old ecosystem to the new one.</p>\n<p>Recently the WPGraphQL creator was <a href=\"https://wptavern.com/jason-bahl-joins-the-gatsby-team-to-work-on-wpgraphql-full-time\">backed up by Gatsby</a> to support further developments. These are signs of a healthy direction for the project.</p>\n<h2>Summary</h2>\n<p>Due to these two fantastic open source contributions WordPress is now ready for simple React theming using the Single Page Application (SPA) paradigm.</p>\n<p>SPAs don’t <a href=\"https://github.com/metamn/inu-v2-b/issues/32\">really</a> support multiple URLs and are ideal only for small projects like marketing sites and portfolios.</p>\n<p>When more needed — real URLS, server side rendering, static site generation — one has to simply replace <code class=\"language-text\">create-react-wptheme</code> with another service like Gatsby or Next.</p>\n<p>All existing React and WPGraphQL code stays the same and it can be reused.</p>\n<h2>Resources</h2>\n<ul>\n<li><a href=\"https://github.com/devloco/create-react-wptheme\">create-react-wptheme</a></li>\n<li><a href=\"https://www.wpgraphql.com/\">WPGraphQL</a></li>\n<li><a href=\"https://wptavern.com/jason-bahl-joins-the-gatsby-team-to-work-on-wpgraphql-full-time\">Jason Bahl Joins the Gatsby Team to Work on WPGraphQL Full-Time</a></li>\n<li><a href=\"https://github.com/metamn/inu-v2-b\">Sample project</a></li>\n</ul>","frontmatter":{"title":"Updating a WordPress theme to React","date":"August 14, 2019"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/updating-a-wordpress-theme-to-react/","previous":{"excerpt":"It’s the future. It’s expensive. It’s unstable. And all these (will be) manageable.","fields":{"slug":"/thoughts-on-react-after-the-first-commercial-project/"},"frontmatter":{"title":"Thoughts on React after the first commercial project"}},"next":{"excerpt":"A deep dive into the language and the ecosystem around.","fields":{"slug":"/putting-react-in-context/"},"frontmatter":{"title":"Putting React in context"}}}}}