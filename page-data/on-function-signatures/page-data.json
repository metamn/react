{"componentChunkName":"component---src-templates-blog-post-js","path":"/on-function-signatures/","webpackCompilationHash":"d7e219c48becb2cda1c4","result":{"data":{"site":{"siteMetadata":{"title":":heart: React","author":"Metamn"}},"markdownRemark":{"id":"10c5f248-1dbe-5ce6-ba1f-f31337801956","excerpt":"Where to destructure props, and assign default values to them.","html":"<p>Where to destructure props, and assign default values to them.</p>\n<!--more-->\n<hr>\n<p>This is an interesting topic affecting developer experience: code duplication, code readability and cognitive load.</p>\n<p>There are ways to define component props and associate default values to them.</p>\n<p>A common approach is to destructure props in the function signature. Another approach is to destructure them in the function body.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Destructuring in function signature</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Video</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>prop1<span class=\"token punctuation\">,</span> prop2<span class=\"token punctuation\">}</span><span class=\"token punctuation\">:</span> TVideo</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Destructuring in function body</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Video</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props<span class=\"token punctuation\">:</span> TVideo</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>prop1<span class=\"token punctuation\">,</span> prop2<span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> props\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Associating default props comes with at least three different approaches.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Associating default props in function signature</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Video</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>prop1<span class=\"token punctuation\">,</span> prop2<span class=\"token punctuation\">}</span><span class=\"token punctuation\">:</span> TVideo <span class=\"token operator\">=</span> video</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Associating default props in function signature at destructuring</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Video</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>prop1 <span class=\"token operator\">=</span> <span class=\"token string\">'prop1'</span><span class=\"token punctuation\">,</span> prop2 <span class=\"token operator\">=</span> <span class=\"token string\">'prop2'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">:</span> TVideo<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Associating default props in function body</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Video</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props<span class=\"token punctuation\">:</span> TVideo</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>prop1<span class=\"token punctuation\">,</span> prop2<span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">merge</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">,</span> video<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Which approach is better? Which approach is complete? What makes an approach better than another?</p>\n<p>To answer the questions let’s focus first on where to destructure. Then on how to associate default props. Then combine the findings into a verdict.</p>\n<h2>Destructuring</h2>\n<p>Destructuring leads to code duplication.\nIn the case of a large number of props might lead to code readability problems.\nAnd depending on the scenario may take a toll on cognitive load.</p>\n<h3>Code duplication (Is inevitable)</h3>\n<p>Assuming type definitions are in place, destructuring leads inevitably to code duplication:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">TVideo</span> <span class=\"token punctuation\">{</span>\n   prop1<span class=\"token punctuation\">:</span> string<span class=\"token punctuation\">,</span>\n   prop2<span class=\"token punctuation\">:</span> string\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Duplication in function signature</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Video</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>prop1<span class=\"token punctuation\">,</span> prop2<span class=\"token punctuation\">}</span><span class=\"token punctuation\">:</span> TVideo</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// Duplication in function body</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Video</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props<span class=\"token punctuation\">:</span> TVideo</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token comment\">// The same amount of duplication as above</span>\n   <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>prop1<span class=\"token punctuation\">,</span> prop2<span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> props\n   <span class=\"token comment\">// When not all props are needed ...</span>\n   <span class=\"token comment\">// ... this approach contains less duplication</span>\n   <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>prop1<span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> props\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The advantage goes to the <code class=\"language-text\">function body</code> approach. It can lead to less duplication.</p>\n<h3>Usage info on hover (Is incomplete)</h3>\n<p>Editors try to offer information about functions on hovering or clicking their name.</p>\n<p>This comes handy when trying to use a function. It gives hints on usage and return value.</p>\n<p>Editors vary in capability to display information on hover.\nIn my experience VSCode performs better than Atom.\nOr Atom just needs a better plugin.\nOther editors might perform better than VSCode.</p>\n<p>Differences in editor capabilities reduce the importance of this criteria.</p>\n<p>For curiosity, and pursuing a better development experience, after playing with various scenarios in VSCode I found:</p>\n<ol>\n<li>Hover simply returns the function signature, as is, and the function return type.</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/react/static/4cdc61cfbb7cc94f2608d91b3d8f0b8a/351ce/hover.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 11.491935483870968%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAeElEQVQI1yXN0Q6CMAwFUP7/F900BjaB0XZt1AV4uJb50NzepDkd9uPAfp5oreHD1MfEIPQGU4WIgIg82XODqYKLgYqiiu+bedfeL2P4sqAVPyyCMazIjxfymBHDhDTNCDEipYT0XHC/ZSzz6sgf0KoQto6SP7nAHwlUlwdqtiJtAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Hover\"\n        title=\"Hover\"\n        src=\"/react/static/4cdc61cfbb7cc94f2608d91b3d8f0b8a/5cc77/hover.png\"\n        srcset=\"/react/static/4cdc61cfbb7cc94f2608d91b3d8f0b8a/72cd8/hover.png 192w,\n/react/static/4cdc61cfbb7cc94f2608d91b3d8f0b8a/45483/hover.png 384w,\n/react/static/4cdc61cfbb7cc94f2608d91b3d8f0b8a/5cc77/hover.png 768w,\n/react/static/4cdc61cfbb7cc94f2608d91b3d8f0b8a/351ce/hover.png 992w\"\n        sizes=\"(max-width: 768px) 100vw, 768px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<hr>\n<ol start=\"2\">\n<li>When the return type is not defined it is inferred.</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/react/static/662508fe66db151ab295a36587789ea5/351ce/hover3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 21.27016129032258%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAzElEQVQY01WPS27EIBAFff/zRVEWmciTGbAB82mMY7yqtC1lpCyaJ0CqVz2ERXi7C8YXzGjw35ZgHJ8fTx53i3MOYy3zPGOMJcWIt4X5mYjLwtoax3HQe79ykJiZQqAtibVkxttNQQ9GK7x/eZz35JyvSSkhIpRcyUmQUih6/4OdOZxHPzo/26afBTtNuNMmiEIjUY2aWrS20rbGuq6vqbXq2/aCXcA9F7qORF3ZFEKoRDVZ1LqqsXNejdROC8IsWpCugk1BZ+77/m/lX+ZcL5T2auSDAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Hover\"\n        title=\"Hover\"\n        src=\"/react/static/662508fe66db151ab295a36587789ea5/5cc77/hover3.png\"\n        srcset=\"/react/static/662508fe66db151ab295a36587789ea5/72cd8/hover3.png 192w,\n/react/static/662508fe66db151ab295a36587789ea5/45483/hover3.png 384w,\n/react/static/662508fe66db151ab295a36587789ea5/5cc77/hover3.png 768w,\n/react/static/662508fe66db151ab295a36587789ea5/351ce/hover3.png 992w\"\n        sizes=\"(max-width: 768px) 100vw, 768px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<hr>\n<ol start=\"3\">\n<li>The defined return type hint is less complete than the inferred one.</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/react/static/c8374161743ebe5e33f836da45ac3bac/351ce/hover4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 11.491935483870968%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAeElEQVQI1zWMyxLCIBAE8///GKRMQKKwS4gmEA8tpeVhDtPzGNp50t4nx7HzEmHPStENTU/WXJDOVBXtXFUoayHL1lV+eey+92uttNYY9iTUPsgPZR4XgvX4yWPNDTcHjDF457jagB09cYnMF2EykRSFdF+/p//DDys0l1IlAiafAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Hover\"\n        title=\"Hover\"\n        src=\"/react/static/c8374161743ebe5e33f836da45ac3bac/5cc77/hover4.png\"\n        srcset=\"/react/static/c8374161743ebe5e33f836da45ac3bac/72cd8/hover4.png 192w,\n/react/static/c8374161743ebe5e33f836da45ac3bac/45483/hover4.png 384w,\n/react/static/c8374161743ebe5e33f836da45ac3bac/5cc77/hover4.png 768w,\n/react/static/c8374161743ebe5e33f836da45ac3bac/351ce/hover4.png 992w\"\n        sizes=\"(max-width: 768px) 100vw, 768px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<hr>\n<ol start=\"4\">\n<li><code class=\"language-text\">ctrl+hover</code> returns the first 10 lines of the function, as is.</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/react/static/918c804b4bd6ff5df43b94bb78898385/0324b/chover.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 27.589285714285715%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABLElEQVQY011R2U7DMBDM//8WfAJCgibkcOLb8REnVC3SMG0FEjyMvFrvzuzsNufLBce+Y/MBNWfsIeAzReS1EBs88zFGbHlHcAVxTdhZ/x+11jua67ZhLwVrPyBOAmJUGEaDUQSc+gAhJLq2xTjMsCoi+BWRgiVTkAPkklHYv5HnhqYfLHIqKEojTTPehEM3e6hFk8TAMe5bgbbrYKSEUYoiMyTzUhpoazh1xEoXKSU0hhYLVYOxKNbBOBZ4C71IWGOQnWPjAk0i55jn/63RMm+shfP+vhZtHnFz+bpyhxzXStTVk6zA6gzLYkv14BmrxJd2XYLTiZOutPuwebP7x/LZKEwfGc9PO15fNE7vJ5gloH+zmAYN7wJyrNgKG0olUeX+6v0Qx3H84uc431aoxA7dGfLyAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Ctrl+Hover\"\n        title=\"Ctrl+Hover\"\n        src=\"/react/static/918c804b4bd6ff5df43b94bb78898385/5cc77/chover.png\"\n        srcset=\"/react/static/918c804b4bd6ff5df43b94bb78898385/72cd8/chover.png 192w,\n/react/static/918c804b4bd6ff5df43b94bb78898385/45483/chover.png 384w,\n/react/static/918c804b4bd6ff5df43b94bb78898385/5cc77/chover.png 768w,\n/react/static/918c804b4bd6ff5df43b94bb78898385/0324b/chover.png 1120w\"\n        sizes=\"(max-width: 768px) 100vw, 768px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<hr>\n<p>Based on the above there is no difference between the two destructuring approaches.</p>\n<p>A hover when destructuring is in the function signature gives the same information as a <code class=\"language-text\">ctrl+hover</code> when destructuring is in the function body.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/react/static/4cdc61cfbb7cc94f2608d91b3d8f0b8a/351ce/hover.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 11.491935483870968%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAeElEQVQI1yXN0Q6CMAwFUP7/F900BjaB0XZt1AV4uJb50NzepDkd9uPAfp5oreHD1MfEIPQGU4WIgIg82XODqYKLgYqiiu+bedfeL2P4sqAVPyyCMazIjxfymBHDhDTNCDEipYT0XHC/ZSzz6sgf0KoQto6SP7nAHwlUlwdqtiJtAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Hover\"\n        title=\"Hover\"\n        src=\"/react/static/4cdc61cfbb7cc94f2608d91b3d8f0b8a/5cc77/hover.png\"\n        srcset=\"/react/static/4cdc61cfbb7cc94f2608d91b3d8f0b8a/72cd8/hover.png 192w,\n/react/static/4cdc61cfbb7cc94f2608d91b3d8f0b8a/45483/hover.png 384w,\n/react/static/4cdc61cfbb7cc94f2608d91b3d8f0b8a/5cc77/hover.png 768w,\n/react/static/4cdc61cfbb7cc94f2608d91b3d8f0b8a/351ce/hover.png 992w\"\n        sizes=\"(max-width: 768px) 100vw, 768px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<hr>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/react/static/918c804b4bd6ff5df43b94bb78898385/0324b/chover.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 27.589285714285715%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABLElEQVQY011R2U7DMBDM//8WfAJCgibkcOLb8REnVC3SMG0FEjyMvFrvzuzsNufLBce+Y/MBNWfsIeAzReS1EBs88zFGbHlHcAVxTdhZ/x+11jua67ZhLwVrPyBOAmJUGEaDUQSc+gAhJLq2xTjMsCoi+BWRgiVTkAPkklHYv5HnhqYfLHIqKEojTTPehEM3e6hFk8TAMe5bgbbrYKSEUYoiMyTzUhpoazh1xEoXKSU0hhYLVYOxKNbBOBZ4C71IWGOQnWPjAk0i55jn/63RMm+shfP+vhZtHnFz+bpyhxzXStTVk6zA6gzLYkv14BmrxJd2XYLTiZOutPuwebP7x/LZKEwfGc9PO15fNE7vJ5gloH+zmAYN7wJyrNgKG0olUeX+6v0Qx3H84uc431aoxA7dGfLyAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Ctrl+Hover\"\n        title=\"Ctrl+Hover\"\n        src=\"/react/static/918c804b4bd6ff5df43b94bb78898385/5cc77/chover.png\"\n        srcset=\"/react/static/918c804b4bd6ff5df43b94bb78898385/72cd8/chover.png 192w,\n/react/static/918c804b4bd6ff5df43b94bb78898385/45483/chover.png 384w,\n/react/static/918c804b4bd6ff5df43b94bb78898385/5cc77/chover.png 768w,\n/react/static/918c804b4bd6ff5df43b94bb78898385/0324b/chover.png 1120w\"\n        sizes=\"(max-width: 768px) 100vw, 768px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<hr>\n<p>In both cases the hint information is incomplete. There is no type information on <code class=\"language-text\">prop1</code>, <code class=\"language-text\">prop2</code>.</p>\n<h2>Default props</h2>\n<p>Before assigning default props to function props they should be set up to catch missing function props.</p>\n<p>On assigning them, the prop structure defines which method to use. In case of a small number of flat props a pretty good usability can be reached.</p>\n<h3>Defining default props</h3>\n<p>Default props prevent errors when destructuring undefined props and trying to use them.</p>\n<p>Destructuring is inevitable in nested props, and nested props will be present in your code sooner or later.</p>\n<p>One can circumvent destructuring by using optional chaining.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Optional chaining</span>\n<span class=\"token comment\">// - On deeply nested props leads to trainwreck:</span>\n<span class=\"token comment\">// prop1?.prop1a?.prop1aX?.prop1aX...</span>\n<span class=\"token keyword\">const</span> text <span class=\"token operator\">=</span> prop1<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span>prop1a\n<span class=\"token keyword\">const</span> numbers <span class=\"token operator\">=</span> prop2<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span>prop2a<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">','</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>In the long term, when nesting goes deeper, destructuring scales better.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Destructuring</span>\n<span class=\"token comment\">// - On deeply nested props works fine</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> prop1<span class=\"token punctuation\">,</span> prop2 <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> props\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> prop1a <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> prop1\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> prop2a <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> prop2\n<span class=\"token keyword\">const</span> numbers <span class=\"token operator\">=</span> prop2a<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">','</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3>Missing props</h3>\n<p>Optional chaining handles missing props. Destructuring fails with <code class=\"language-text\">Unhandled Runtime Error</code>.</p>\n<p>When <code class=\"language-text\">prop1</code> is <code class=\"language-text\">null</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Returns value `undefined`</span>\n<span class=\"token keyword\">const</span> text <span class=\"token operator\">=</span> prop1<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span>prop1a</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> prop1<span class=\"token punctuation\">,</span> prop2 <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> props\n<span class=\"token comment\">// Breaks with an error</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> prop1a <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> prop1</code></pre></div>\n<p>To make destructuring error proof, default values must cover the full depth.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">TNested</span> <span class=\"token punctuation\">{</span>\n  prop1<span class=\"token operator\">?</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    prop1a<span class=\"token punctuation\">:</span> string<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> nested<span class=\"token punctuation\">:</span> TNested <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// This doesn't go into full depth.</span>\n  <span class=\"token comment\">// It will give an error on destructuring.</span>\n  prop1<span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> nestedFullDepth<span class=\"token punctuation\">:</span> TNested <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// This is ok.</span>\n  prop1<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    prop1a<span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>Default prop assignment</h3>\n<p>Once error-proof and nested default props are set up — they should be assigned to function props.</p>\n<p>In JavaScript object assignment works only with flat objects.\nNested objects need a special function to perform the same task.\nLodash offers such a function: <code class=\"language-text\">defaultsDeep</code>, to recursively assign arbitrarily nested default props to function props.</p>\n<p>Associating default props to props in function signature is not straightforward, might be impossible, or might require expert knowledge I don’t have at the moment.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// This gives the error:</span>\n<span class=\"token comment\">// Parameter '{ prop1, prop2 }' cannot reference identifier 'prop1' declared after it.ts(2373)</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Video</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>prop1<span class=\"token punctuation\">,</span> prop2<span class=\"token punctuation\">}</span><span class=\"token punctuation\">:</span> TVideo <span class=\"token operator\">=</span> <span class=\"token function\">defaultsDeep</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>prop1<span class=\"token punctuation\">,</span> prop2<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> nestedFullDepth<span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// This gives the error:</span>\n<span class=\"token comment\">// No value exists in scope for the shorthand property 'prop1'. Either declare one or provide an initializer.</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Video</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token function\">defaultsDeep</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> prop1<span class=\"token punctuation\">,</span> prop2 <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> nestedFullDepth<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">:</span> TNested</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>Associating default props in function body just works:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// This works.</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Video</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props<span class=\"token punctuation\">:</span> TVideo</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> prop1<span class=\"token punctuation\">,</span> prop2 <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">defaultsDeep</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>props <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> video<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The advantage goes to the <code class=\"language-text\">function body</code> approach. It works as is.</p>\n<h3>Usage info on hover</h3>\n<p>It’s time to revisit how editors display hover hints on functions now with default prop assignments.</p>\n<h4>Associating default props in function signature</h4>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">Video</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>prop1<span class=\"token punctuation\">,</span> prop2<span class=\"token punctuation\">}</span><span class=\"token punctuation\">:</span> TVideo <span class=\"token operator\">=</span> video</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/react/static/51096cf79f74eba831e5c9386ded5f82/351ce/hover5.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 11.491935483870968%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAd0lEQVQI1y2Myw6DMAwE+f9fRBwahfAoLbZDIMllGlAPq7F219uVWii1knPmNCWpcmhE9oi2W0QwM7RlqsJhEZOEqSGtl9JJKeX5v9ldoly7EL+K7wPry/OeVoL/EMYJ51zjzNB75saleUM/MoeNZRPEEvU/eOsHZpqYEePKlxUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Hover\"\n        title=\"Hover\"\n        src=\"/react/static/51096cf79f74eba831e5c9386ded5f82/5cc77/hover5.png\"\n        srcset=\"/react/static/51096cf79f74eba831e5c9386ded5f82/72cd8/hover5.png 192w,\n/react/static/51096cf79f74eba831e5c9386ded5f82/45483/hover5.png 384w,\n/react/static/51096cf79f74eba831e5c9386ded5f82/5cc77/hover5.png 768w,\n/react/static/51096cf79f74eba831e5c9386ded5f82/351ce/hover5.png 992w\"\n        sizes=\"(max-width: 768px) 100vw, 768px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><code class=\"language-text\">ctrl+hover</code> displays the same amount of information.</p>\n<h4>Associating default props in function signature at destructuring</h4>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">Video</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>prop1 <span class=\"token operator\">=</span> <span class=\"token string\">'prop1'</span><span class=\"token punctuation\">,</span> prop2 <span class=\"token operator\">=</span> <span class=\"token string\">'prop2'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">:</span> TVideo<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/react/static/0963716c2d32b83de0b3c5dcd8ec673c/351ce/hover6.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 11.491935483870968%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAdklEQVQI1x2MQRKEIBDE/P8f9yQrCDOAuILoIYueuroqydSvi37ftNY4ovJTZYsbUXZUIyJCSmmsjq+UXIhhJw1GUqEO73oavXOeJ1MdUntAycwfj58dYQ24Rd/IbA1eAsZ8cdaRc2axAQmKdZHVFra8U+vxRv89lJfmb9l1dgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Hover\"\n        title=\"Hover\"\n        src=\"/react/static/0963716c2d32b83de0b3c5dcd8ec673c/5cc77/hover6.png\"\n        srcset=\"/react/static/0963716c2d32b83de0b3c5dcd8ec673c/72cd8/hover6.png 192w,\n/react/static/0963716c2d32b83de0b3c5dcd8ec673c/45483/hover6.png 384w,\n/react/static/0963716c2d32b83de0b3c5dcd8ec673c/5cc77/hover6.png 768w,\n/react/static/0963716c2d32b83de0b3c5dcd8ec673c/351ce/hover6.png 992w\"\n        sizes=\"(max-width: 768px) 100vw, 768px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><code class=\"language-text\">ctrl+hover</code> displays better information:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/react/static/525112256ecf0aba05cb1b0188a01e61/40872/chover1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 22.999157540016853%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA4klEQVQY011QW27DMAzL/Q+3XaEosMQvybLsZCsygGPcfmz7IEhJlixqeZwndnd4jOiiGGQvghwachKEGKCMxQSbRhQpiCGgNcMqrJmiloa4VuYcy6dSiMBSnixFYcxVbVCyKONqqI26srlW5pXNjZ+wxsFmbb6fA4v6LFoqaLlgE2puvO/jhR1jDKLP+NI74d4xekf/h+Xr/MZww0grB2aUYEhRsK7bxEZ7kbYlG8KHUgui8P3gIv5cxn/x8tCC+63j7X2w6Wm5mSNpnhYL73dZNOdNVVhrSMHnjS+7x3H8wQ83M3u42D41jAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Ctrl+Hover\"\n        title=\"Ctrl+Hover\"\n        src=\"/react/static/525112256ecf0aba05cb1b0188a01e61/5cc77/chover1.png\"\n        srcset=\"/react/static/525112256ecf0aba05cb1b0188a01e61/72cd8/chover1.png 192w,\n/react/static/525112256ecf0aba05cb1b0188a01e61/45483/chover1.png 384w,\n/react/static/525112256ecf0aba05cb1b0188a01e61/5cc77/chover1.png 768w,\n/react/static/525112256ecf0aba05cb1b0188a01e61/04090/chover1.png 1152w,\n/react/static/525112256ecf0aba05cb1b0188a01e61/40872/chover1.png 1187w\"\n        sizes=\"(max-width: 768px) 100vw, 768px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h4>Associating default props in function body</h4>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">Video</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props<span class=\"token punctuation\">:</span> TVideo</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> prop1<span class=\"token punctuation\">,</span> prop2 <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">merge</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">,</span> video<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/react/static/5f4f0d456a304e1c828b435e5c032dca/351ce/hover7.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 11.491935483870968%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAa0lEQVQI13WMyw6CMBQF+f9vRCQClhjLvb0U+9iMhZUbF5NJTjKnK7VyklLiUOGjSgwRlYiIoG2zsLN5azY23bF4UEoh53z5ly616MS8stxW3DAxjxPPh+feO4Z+RLzwWkOz4t4BtUj9c/gFgceZBIyMgRwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Hover\"\n        title=\"Hover\"\n        src=\"/react/static/5f4f0d456a304e1c828b435e5c032dca/5cc77/hover7.png\"\n        srcset=\"/react/static/5f4f0d456a304e1c828b435e5c032dca/72cd8/hover7.png 192w,\n/react/static/5f4f0d456a304e1c828b435e5c032dca/45483/hover7.png 384w,\n/react/static/5f4f0d456a304e1c828b435e5c032dca/5cc77/hover7.png 768w,\n/react/static/5f4f0d456a304e1c828b435e5c032dca/351ce/hover7.png 992w\"\n        sizes=\"(max-width: 768px) 100vw, 768px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><code class=\"language-text\">ctrl+hover</code> displays better information:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 768px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/react/static/af96b7bcba4719a563441dbd0640298e/351ce/chover3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 21.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAzUlEQVQY0z2OXXODIBRE8///YycqgvLl5QKm0j5sNkmnDzuLMns4t0srhioe7LJaqNtQGLEOec+wRrAaB7MsiP6AWxgbUEqBcqevHc+tNYwxcNM9Yd8OVP4UH6AExRAxrQk+CO5rweYT4h6wmQM74+YMYyycc/DczHxMRD7A72vg8fOL8zyhOaLJARVFzhUpZXaigeJIylFB5p3wu9b6Z/jJv+HVO8bZadhhviL8ZBGcp41guW+Yp4UwgbeEJRoSnKTi5K61jv7u9u4X8AnV8i5b2VeoawAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Ctrl+Hover\"\n        title=\"Ctrl+Hover\"\n        src=\"/react/static/af96b7bcba4719a563441dbd0640298e/5cc77/chover3.png\"\n        srcset=\"/react/static/af96b7bcba4719a563441dbd0640298e/72cd8/chover3.png 192w,\n/react/static/af96b7bcba4719a563441dbd0640298e/45483/chover3.png 384w,\n/react/static/af96b7bcba4719a563441dbd0640298e/5cc77/chover3.png 768w,\n/react/static/af96b7bcba4719a563441dbd0640298e/351ce/chover3.png 992w\"\n        sizes=\"(max-width: 768px) 100vw, 768px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>Summing up</h2>\n<p>Where to destructure props, and assign default values to them depends on the shape of the props.</p>\n<p>When props are flat and small in number, destructuring in function signature + assigning default values at destructuring, wins. <code class=\"language-text\">ctrl+hover</code> over the function name displays good enough usage information.</p>\n<p>Nested props and the requirement to use a deep merging function implies destructuring in the function body.</p>\n<p>The developer experience with <code class=\"language-text\">ctrl+hover</code> over the function name is less pleasant: the default values, helping to infer the prop type, are not shown.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Props are flat and small in number.</span>\n<span class=\"token comment\">// This approach is recommended.</span>\n<span class=\"token comment\">//</span>\n<span class=\"token comment\">// This approach gives the best developer experience:</span>\n<span class=\"token comment\">// On `ctrl+hover` the type of the props can be inferred from their default value.</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Video</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>prop1 <span class=\"token operator\">=</span> <span class=\"token string\">'prop1'</span><span class=\"token punctuation\">,</span> prop2 <span class=\"token operator\">=</span> <span class=\"token string\">'prop2'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">:</span> TVideo<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Props are flat but large in number.</span>\n<span class=\"token comment\">// This approach is not recommended.</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Video</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  prop1 <span class=\"token operator\">=</span> <span class=\"token string\">'prop1'</span><span class=\"token punctuation\">,</span>\n  prop2 <span class=\"token operator\">=</span> <span class=\"token string\">'prop2'</span><span class=\"token punctuation\">,</span>\n  prop3 <span class=\"token operator\">=</span> <span class=\"token string\">'prop3'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token operator\">...</span>\n  <span class=\"token operator\">...</span>\n  prop10 <span class=\"token operator\">=</span> <span class=\"token string\">'prop10'</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">:</span> TVideo<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Props are flat but large in number.</span>\n<span class=\"token comment\">// This approach is recommended for better code readability.</span>\n<span class=\"token comment\">//</span>\n<span class=\"token comment\">// On `ctrl+hover` this approach doesn't give hints about the type of the props.</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Video</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props<span class=\"token punctuation\">:</span> TVideo</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> propsMerged <span class=\"token operator\">=</span> <span class=\"token function\">defaultsDeep</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>props <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> defaultProps<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> prop1<span class=\"token punctuation\">,</span> prop2 <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> propsMerged\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Props are nested.</span>\n<span class=\"token comment\">// This approach is recommended (perhaps the only viable option).</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Video</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props<span class=\"token punctuation\">:</span> TVideo</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> propsMerged <span class=\"token operator\">=</span> <span class=\"token function\">defaultsDeep</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>props <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> defaultProps<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> prop1<span class=\"token punctuation\">,</span> prop2 <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> propsMerged\n<span class=\"token punctuation\">}</span></code></pre></div>","frontmatter":{"title":"On function signatures","date":"May 28, 2021"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/on-function-signatures/","previous":{"excerpt":"Workflow, practices and deliverables.","fields":{"slug":"/on-design-sytems-1/"},"frontmatter":{"title":"On design systems — 1"}},"next":{"excerpt":"I optimize for less cognitive load.","fields":{"slug":"/how-i-write-react-code-in-2021/"},"frontmatter":{"title":"How I write React code in 2021"}}}}}