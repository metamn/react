{"componentChunkName":"component---src-templates-blog-post-js","path":"/is-graphql-functional-and-reactive/","webpackCompilationHash":"e24f080e93f662bc24cd","result":{"data":{"site":{"siteMetadata":{"title":":heart: React","author":"Metamn"}},"markdownRemark":{"id":"6c277993-1047-5569-ba4b-3267a66a2ef1","excerpt":"GraphQL comes from the same family as React. And React is functional and reactive.","html":"<p>GraphQL comes from the same family as React. And React is functional and reactive.</p>\n<!--more-->\n<p>A quick investigation is necessary.</p>\n<h2>A short history</h2>\n<p>GraphQL was developed by Facebook at the same time when React was created. Perhaps they were meant to be perfect running mates.</p>\n<p>Both of them define a new era in their own domain: React in web frameworks and GraphQL in APIs. </p>\n<p>The list of features on <a href=\"https://graphql.org/\">GraphQL.org</a> clearly points to a paradigm shift:</p>\n<ul>\n<li>Ask for what you need, get exactly that</li>\n<li>Get many resources in a single request</li>\n<li>Describe whatâ€™s possible with a type system</li>\n<li>Evolve your API without versions</li>\n</ul>\n<p>React <a href=\"http://metamn.io/react/the-reactive-fuctional-nature-of-react/\">managed</a> to change the status quo by embracing functional reactive programming. One might wonder if GraphQL choose the same approach.</p>\n<h2>Functional reactive programming</h2>\n<p>What makes a system functional and reactive is extracted in the list below from Daniel Lewâ€™s excellent article <a href=\"https://blog.danlew.net/2017/07/27/an-introduction-to-functional-reactive-programming/\">An Introduction to Functional Reactive Programming</a>.</p>\n<p>Acronym R stands for reactive, F for functional programming.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">|---------|-------------|-------------------------------------------------------------------------|\n| Acronym | Feature     | Description                                                             |\n|---------|-------------|-------------------------------------------------------------------------|\n| R-1     | Isolation   | Components are aware of, and care about their own problems only         |\n| R-2     | Isolation   | Components does not interfere with each otherâ€™s inner workings          |\n| R-3     | Async       | Components communicate in an asynchronously                             |\n| F-1     | Composition | Components have clear and stable interfaces                             |\n| F-2     | Composition | During execution a component doesn&#39;t modify its input parameters        |\n| F-3     | Composition | No external information is used to produce the return value             |\n| F-4     | Composition | No additional operations are performed beside the planned functionality |</code></pre></div>\n<p>If GraphQL meets these features it can be considered functional and reactive.</p>\n<h2>How GraphQL works</h2>\n<p>Like every API â€” GraphQL is built on three main concepts:</p>\n<ul>\n<li><strong>Client</strong>: makes data requests to a backend</li>\n<li><strong>Endpoint</strong>: One or more URLs where requests are sent and from where the results are received</li>\n<li><strong>Backend</strong>: Processes the requests and returns data</li>\n</ul>\n<p>Speaking in code (GraphQL):</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># The client sends a data request to the backend</span>\n<span class=\"token comment\">#</span>\nGET /graphql?query<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span> book<span class=\"token punctuation\">(</span>id: <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> title, author <span class=\"token punctuation\">{</span> firstName <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># `/graphql` is an endpoint which receives the request ...</span>\n<span class=\"token comment\"># ... and forwards to the backend</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># `{ title, author { firstName } }` is the shape of data ...</span>\n<span class=\"token comment\"># ... the clients wants to receive</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/**\n * The backend processes the request using resolvers\n * ... and returns the results\n */</span>  \n<span class=\"token keyword\">const</span> resolvers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  Query<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">author</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">root<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> id <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">find</span><span class=\"token punctuation\">(</span>authors<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> id<span class=\"token punctuation\">:</span> id <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  Author<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">books</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">author</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>books<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> authorId<span class=\"token punctuation\">:</span> author<span class=\"token punctuation\">.</span>id <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/**\n * Finally the client receives the result.\n * \n * The result has the shape defined by the client at request\n */</span> \n<span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"title\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Black Hole Blues\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"author\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"firstName\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Janna\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Calling the client, the endpoint and the backend as <em>components</em> of the GraphQL system it can be verified if they fulfill the traits of a functional reactive system. </p>\n<h2>Isolation</h2>\n<p>GraphQL components are (clearly) decoupled. They all work in isolation and donâ€™t interfere in each otherâ€™s inner workings.</p>\n<p>These statements can be further articulated with another example using REST, the predecessor of GraphQL. </p>\n<p>Speaking code, again, the original example above in REST is:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># The client sends a data request to the backend</span>\n<span class=\"token comment\">#</span>\nGET /books/1\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># `/books` is an endpoint which receives the request</span>\n<span class=\"token comment\"># The client needs to know in advance if there is a `/books` endpoint.</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># More, if it wants to retrieve `authors`, `comments`, ... </span>\n<span class=\"token comment\"># ... it needs to know in advance if these endpoints exists.</span>\n<span class=\"token comment\"># Like:</span>\n<span class=\"token comment\"># - GET /authors/1</span>\n<span class=\"token comment\"># - GET /comments/1</span>\n<span class=\"token comment\"># - GET /authors/1/comments</span>\n<span class=\"token comment\"># - ... and lots of others for POST, DELETE and REST verbs.</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># ðŸ¢¥ In REST the client is tightly coupled ...</span>\n<span class=\"token comment\"># ... to the URL endpoints</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/**\n * The backend processes the request using URL handlers\n * \n * For every resource (`book`, `author`, ...) and \n * operation (`get`, `delete') there should be \n * a corresponding URL handler\n * \n * Like:\n *  - app.get('books', ...)\n *  - app.get('authors', ...)\n *  - app.get('comments', ...)\n *  - ... and lots of others for `put`, `delete`, `post`, `patch`\n * \n * ðŸ¢¥ In REST the URL endpoints are tightly coupled to ...\n * ... the URL handlers on the backend\n */</span>  \napp<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/books'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> id <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span>id\n  <span class=\"token keyword\">const</span> book <span class=\"token operator\">=</span> <span class=\"token function\">find</span><span class=\"token punctuation\">(</span>books<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> id<span class=\"token punctuation\">:</span> id <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> author <span class=\"token operator\">=</span> <span class=\"token function\">find</span><span class=\"token punctuation\">(</span>authors<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>id<span class=\"token punctuation\">:</span> book<span class=\"token punctuation\">.</span>authorID<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token comment\">/**\n  * The shape of the return data needs to be assembled.\n  * And it is done arbitrarily.\n  * The client has no influence about the shape returned.\n  */</span> \n  <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n\t  title<span class=\"token punctuation\">:</span> book<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">,</span>\n\t  author<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n\t\t  firstName<span class=\"token punctuation\">:</span> author<span class=\"token punctuation\">.</span>firstName<span class=\"token punctuation\">,</span>\n\t\t  lastName<span class=\"token punctuation\">:</span> author<span class=\"token punctuation\">.</span>lastName\n\t  <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  res<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span>author<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/**\n * Finally the client receives the result.\n * \n * The result has a shape defined by the backend\n * \n * In REST the client is tightly coupled to the backend.\n */</span> \n<span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"title\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Black Hole Blues\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"author\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> \n    <span class=\"token string\">\"firstName\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Janna\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"lastName\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Levin\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>Wrapping up</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># REST</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># - All three components have a quasi 1-to-1 relationship</span>\n<span class=\"token comment\"># - They are all tightly coupled (The list can't be reduced)</span>\n<span class=\"token comment\">#</span>\n<span class=\"token operator\">|</span>------------------------------------------------------------<span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> Client requests <span class=\"token operator\">|</span> URL Endpoints <span class=\"token operator\">|</span> URL Handlers             <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>-----------------<span class=\"token operator\">|</span>---------------<span class=\"token operator\">|</span>--------------------------<span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> GET /books/1    <span class=\"token operator\">|</span> /books        <span class=\"token operator\">|</span> app.get<span class=\"token punctuation\">(</span><span class=\"token string\">'books'</span>, <span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">)</span>    <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> GET /authors/1  <span class=\"token operator\">|</span> /authors      <span class=\"token operator\">|</span> app.get<span class=\"token punctuation\">(</span><span class=\"token string\">'authors'</span>, <span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">)</span>  <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> GET /comments/1 <span class=\"token operator\">|</span> /comments     <span class=\"token operator\">|</span> app.get<span class=\"token punctuation\">(</span><span class=\"token string\">'comments'</span>, <span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> DELETE /books/1 <span class=\"token operator\">|</span> /books        <span class=\"token operator\">|</span> app.delete<span class=\"token punctuation\">(</span><span class=\"token string\">'books'</span>, <span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>------------------------------------------------------------<span class=\"token operator\">|</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># GraphQL</span>\n<span class=\"token comment\">#</span>\n<span class=\"token operator\">|</span>---------------------------------------------------------------------------<span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> Client requests                       <span class=\"token operator\">|</span> URL Endpoints <span class=\"token operator\">|</span> URL handlers      <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>---------------------------------------<span class=\"token operator\">|</span>---------------<span class=\"token operator\">|</span>-------------------<span class=\"token operator\">|</span> \n<span class=\"token operator\">|</span> GET /graphql?query<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>book<span class=\"token punctuation\">(</span>id: <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>    <span class=\"token operator\">|</span> /graphql      <span class=\"token operator\">|</span> resolvers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">}</span> <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> GET /graphql?query<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>author<span class=\"token punctuation\">(</span>id: <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>  <span class=\"token operator\">|</span> /graphql      <span class=\"token operator\">|</span> resolvers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">}</span> <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> GET /graphql?query<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>comment<span class=\"token punctuation\">(</span>id: <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">|</span> /graphql      <span class=\"token operator\">|</span> resolvers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">}</span> <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> GET /graphql?mutation<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>book<span class=\"token punctuation\">(</span>id: <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">|</span> /graphql      <span class=\"token operator\">|</span> resolvers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">}</span> <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>---------------------------------------------------------------------------<span class=\"token operator\">|</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># - All components above can be further reduced</span>\n<span class=\"token comment\"># - Which makes them loosely coupled</span>\n<span class=\"token comment\">#</span>\n<span class=\"token operator\">|</span> GET /graphql?<span class=\"token operator\">&lt;</span>OPERATION<span class=\"token operator\">></span><span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token operator\">&lt;</span>PARAMS<span class=\"token operator\">></span><span class=\"token punctuation\">}</span>    <span class=\"token operator\">|</span> /graphql      <span class=\"token operator\">|</span> resolvers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">}</span> <span class=\"token operator\">|</span></code></pre></div>\n<p>Or, illustrated with a diagram:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># REST</span>\n<span class=\"token comment\">#</span>\n<span class=\"token operator\">|</span>-----------------<span class=\"token operator\">|</span>         <span class=\"token operator\">|</span>-----------<span class=\"token operator\">|</span>         <span class=\"token operator\">|</span>-----------------------------<span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> Client          <span class=\"token operator\">|</span>         <span class=\"token operator\">|</span> Endpoints <span class=\"token operator\">|</span>         <span class=\"token operator\">|</span> Handlers                    <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>-----------------<span class=\"token operator\">|</span>         <span class=\"token operator\">|</span>-----------<span class=\"token operator\">|</span>         <span class=\"token operator\">|</span>-----------------------------<span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> GET /books/1    <span class=\"token operator\">|</span> <span class=\"token operator\">&lt;</span>-----<span class=\"token operator\">></span> <span class=\"token operator\">|</span> /books    <span class=\"token operator\">|</span> <span class=\"token operator\">&lt;</span>-----<span class=\"token operator\">></span> <span class=\"token operator\">|</span> app.get<span class=\"token punctuation\">(</span><span class=\"token string\">'books'</span>, <span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">)</span>       <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> GET /authors/1  <span class=\"token operator\">|</span> <span class=\"token operator\">&lt;</span>-----<span class=\"token operator\">></span> <span class=\"token operator\">|</span> /authors  <span class=\"token operator\">|</span> <span class=\"token operator\">&lt;</span>-----<span class=\"token operator\">></span> <span class=\"token operator\">|</span> app.get<span class=\"token punctuation\">(</span><span class=\"token string\">'authors'</span>, <span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">)</span>     <span class=\"token operator\">|</span>       \n<span class=\"token operator\">|</span> GET /comments/1 <span class=\"token operator\">|</span> <span class=\"token operator\">&lt;</span>-----<span class=\"token operator\">></span> <span class=\"token operator\">|</span> /comments <span class=\"token operator\">|</span> <span class=\"token operator\">&lt;</span>-----<span class=\"token operator\">></span> <span class=\"token operator\">|</span> app.get<span class=\"token punctuation\">(</span><span class=\"token string\">'comments'</span>, <span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">)</span>    <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> DELETE /books/1 <span class=\"token operator\">|</span> <span class=\"token operator\">&lt;</span>-----<span class=\"token operator\">></span> <span class=\"token operator\">|</span> /books    <span class=\"token operator\">|</span> <span class=\"token operator\">&lt;</span>-----<span class=\"token operator\">></span> <span class=\"token operator\">|</span> app.delete<span class=\"token punctuation\">(</span><span class=\"token string\">'books'</span>, <span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">)</span>    <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>-----------------<span class=\"token operator\">|</span>         <span class=\"token operator\">|</span>-----------<span class=\"token operator\">|</span>         <span class=\"token operator\">|</span>-----------------------------<span class=\"token operator\">|</span>\n\n<span class=\"token comment\"># GraphQL</span>\n<span class=\"token comment\">#</span>\n<span class=\"token operator\">|</span>---------------------------------<span class=\"token operator\">|</span>         <span class=\"token operator\">|</span>----------<span class=\"token operator\">|</span>         <span class=\"token operator\">|</span>-------------------<span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> Client                          <span class=\"token operator\">|</span>         <span class=\"token operator\">|</span> Endpoint <span class=\"token operator\">|</span>         <span class=\"token operator\">|</span> Resolvers         <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>---------------------------------<span class=\"token operator\">|</span>         <span class=\"token operator\">|</span>----------<span class=\"token operator\">|</span>         <span class=\"token operator\">|</span>-------------------<span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> GET /graphql?query<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">}</span>        <span class=\"token operator\">|</span>         <span class=\"token operator\">|</span>          <span class=\"token operator\">|</span>         <span class=\"token operator\">|</span>                   <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> GET /graphql?mutation<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">}</span>     <span class=\"token operator\">|</span> <span class=\"token operator\">&lt;</span>-----<span class=\"token operator\">></span> <span class=\"token operator\">|</span> /graphql <span class=\"token operator\">|</span> <span class=\"token operator\">&lt;</span>-----<span class=\"token operator\">></span> <span class=\"token operator\">|</span> resolvers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">}</span> <span class=\"token operator\">|</span>       \n<span class=\"token operator\">|</span> GET /graphql?subscription<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">}</span> <span class=\"token operator\">|</span>         <span class=\"token operator\">|</span>          <span class=\"token operator\">|</span>         <span class=\"token operator\">|</span>                   <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>---------------------------------<span class=\"token operator\">|</span>         <span class=\"token operator\">|</span>----------<span class=\"token operator\">|</span>         <span class=\"token operator\">|</span>-------------------<span class=\"token operator\">|</span></code></pre></div>\n<h2>Composition</h2>\n<p>Letâ€™s examine again the two ways of writing code on the backend:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/**\n * GraphQL\n */</span>  \n<span class=\"token keyword\">const</span> resolvers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  Query<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">author</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">root<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> id <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">find</span><span class=\"token punctuation\">(</span>authors<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> id<span class=\"token punctuation\">:</span> id <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  Author<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">books</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">author</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>books<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> authorId<span class=\"token punctuation\">:</span> author<span class=\"token punctuation\">.</span>id <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/**\n * REST\n */</span> \napp<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/books'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> id <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span>id\n  <span class=\"token keyword\">const</span> book <span class=\"token operator\">=</span> <span class=\"token function\">find</span><span class=\"token punctuation\">(</span>books<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> id<span class=\"token punctuation\">:</span> id <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> author <span class=\"token operator\">=</span> <span class=\"token function\">find</span><span class=\"token punctuation\">(</span>authors<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>id<span class=\"token punctuation\">:</span> book<span class=\"token punctuation\">.</span>authorID<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n\t  title<span class=\"token punctuation\">:</span> book<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">,</span>\n\t  author<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n\t\t  firstName<span class=\"token punctuation\">:</span> author<span class=\"token punctuation\">.</span>firstName<span class=\"token punctuation\">,</span>\n\t\t  lastName<span class=\"token punctuation\">:</span> author<span class=\"token punctuation\">.</span>lastName\n\t  <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  res<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span>author<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>The first approach seem to be pure functional while the second procedural.</p>\n<p>Both of them seem to satisfy conditions F-1 and F-2: stable interfaces, and input parameters kept unmodified.</p>\n<p>Only GraphQL seem to satisfy conditions F-3, F-4: Use no external information nor additional operations.</p>\n<p>REST uses an external resource (<code class=\"language-text\">authors</code>) and performs an additional operation (<code class=\"language-text\">const result=</code>) during execution.</p>\n<h2>Finally</h2>\n<p>This thought-play can be easily called <em>speculation</em> by a rigorous reader. </p>\n<p>For example the code for <code class=\"language-text\">app.get(&#39;/books&#39;, ...)</code> can be written to be fully functional.\nHowever this is the way youâ€™ll find it written in majority of REST APIs. </p>\n<p>The goal of this document was never to demonstrate scientifically GraphQL follows the functional reactive pardigm. The goal was to ask the question and try to give an answer.</p>\n<p>The reader is free to decide in what measure this exercise was successful. Until then a little help from others.</p>\n<ul>\n<li><a href=\"https://helda.helsinki.fi/bitstream/handle/10138/304677/Touronen_Ville_Pro_gradu_2019.pdf\">Microservice architecture patterns with GraphQL</a></li>\n<li><a href=\"https://miro.com/app/board/o9J_kwFipAA=/\">Mapping the React ecosystem (in Miro)</a></li>\n</ul>\n<h2>Resources</h2>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/GraphQL\">GraphQL</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/React_(web_framework)\">React (web framework)</a></li>\n<li><a href=\"http://metamn.io/react/the-reactive-fuctional-nature-of-react/\">The reactive, functional nature of React</a></li>\n<li><a href=\"https://blog.danlew.net/2017/07/27/an-introduction-to-functional-reactive-programming/\">An Introduction to Functional Reactive Programming</a></li>\n<li><a href=\"https://www.apollographql.com/customers/expediagroup/\">Expedia Group Transforms Product Development with Apollo</a></li>\n</ul>","frontmatter":{"title":"Is GraphQL functional and reactive?","date":"October 02, 2019"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/is-graphql-functional-and-reactive/","previous":{"excerpt":"A deep dive into the language and the ecosystem around.","fields":{"slug":"/putting-react-in-context/"},"frontmatter":{"title":"Putting React in context"}},"next":{"excerpt":"Or else.","fields":{"slug":"/identify-the-right-leaders/"},"frontmatter":{"title":"Identify the right leaders"}}}}}